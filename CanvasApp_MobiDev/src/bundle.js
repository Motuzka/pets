(()=>{const e=document.getElementById("canvas"),n=e.getContext("2d"),t=document.getElementById("modalPenSize"),o=document.getElementById("pen"),l=document.getElementById("size");let c="#000";document.getElementById("color").oninput=function(){c=this.value},e.onmousedown=function(t){n.beginPath();let o=t.offsetX,i=t.offsetY;1==t.which?n.strokeStyle=c:3==t.which&&(n.strokeStyle="white"),n.lineJoin="round",n.lineCap="round",n.moveTo(o,i),n.lineWidth=+l.value,e.onmousemove=function(e){let t=e.offsetX,o=e.offsetY;n.lineTo(t,o),n.stroke()},e.onmouseup=function(){e.onmousemove=null}},e.onmouseout=function(){e.onmousemove=null},l.oninput=function(){document.getElementById("sizeValue").innerHTML=l.value+"px"},o.onclick=function(){t.style.display="block"},window.onclick=function(e){const n=document.getElementById("pen");e.target!==n&&(t.style.display="none")},document.getElementById("clear").onclick=()=>n.clearRect(0,0,1e3,700),n.beginPath(),document.getElementById("save").onclick=function(){this.setAttribute("href",e.toDataURL()),this.download="canvas.png"}})();